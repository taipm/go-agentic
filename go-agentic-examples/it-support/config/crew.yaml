version: "1.0"
description: "Go-CrewAI IT Support Crew Configuration"

entry_point: orchestrator

agents:
  - orchestrator
  - clarifier
  - executor

settings:
  max_handoffs: 5
  max_rounds: 10
  timeout_seconds: 300
  language: en
  organization: IT-Support-Team

# Routing configuration - defines how agents interact and hand off
routing:
  # Define which signals each agent can emit and where they route to
  signals:
    orchestrator:
      - signal: "[ROUTE_EXECUTOR]"
        target: executor
        description: "Route to executor for immediate diagnosis"
      - signal: "[ROUTE_CLARIFIER]"
        target: clarifier
        description: "Route to clarifier for information gathering"
    clarifier:
      - signal: "[KẾT THÚC]"
        target: executor
        description: "Hand off to executor after gathering info"
    executor:
      # Executor is terminal, no handoff signals
      - signal: "[COMPLETE]"
        target: null
        description: "Diagnosis complete, return result"

  # Default routing when no explicit signal found
  defaults:
    orchestrator: clarifier  # Safe default: ask for more info
    clarifier: executor      # After clarification, diagnose
    executor: null           # Terminal agent, no default handoff

  # Agent-specific routing behaviors
  agent_behaviors:
    orchestrator:
      wait_for_signal: true
      auto_route: false
      description: "Orchestrator always waits for explicit routing signal"
    clarifier:
      wait_for_signal: true
      auto_route: false
      description: "Clarifier waits for [KẾT THÚC] signal before handoff"
    executor:
      is_terminal: true
      description: "Executor is terminal, returns immediately"
